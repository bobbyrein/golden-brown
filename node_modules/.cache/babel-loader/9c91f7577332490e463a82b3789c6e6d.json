{"ast":null,"code":"var Commit = require('./commit').Commit;\nvar Tag = exports.Tag = function (name, commit) {\n  var _name = name;\n  var _commit = commit;\n  // Define the properties\n  Object.defineProperty(this, \"name\", {\n    get: function () {\n      return _name;\n    },\n    enumerable: true\n  });\n  Object.defineProperty(this, \"commit\", {\n    get: function () {\n      return _commit;\n    },\n    enumerable: true\n  });\n};\nvar prefix = function (name) {\n  return \"refs/\" + name + \"s\";\n};\nTag.find_all = function (repo, options, callback) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  callback = args.pop();\n  options = args.length ? args.shift() : {};\n\n  // Let's fetch the references\n  repo.git.refs({}, prefix('tag'), function (err, refs) {\n    if (err) return callback(err, refs);\n    if (!refs) return callback(null, []);\n    // Map the references\n    var mapped_refs = refs.split(/\\n/).map(function (ref) {\n      // Fetch the name and id for the reference\n      var split_reference = ref.split(/ /);\n      var name = split_reference[0];\n      var id = split_reference[1];\n      // Ensure we have the right id (if it's a tag it's the actual commit of the tag not the tag id)\n      var cid = repo.git.commit_from_sha(id);\n      if (cid == '') throw \"unknown object type\";\n      // Create a commit object wit the id\n      var commit = new Commit(repo, cid);\n      // Wrap the commit object in a head object and return mapped object\n      return new Tag(name, commit);\n    });\n    callback(null, mapped_refs);\n  });\n};","map":{"version":3,"names":["Commit","require","Tag","exports","name","commit","_name","_commit","Object","defineProperty","get","enumerable","prefix","find_all","repo","options","callback","args","Array","prototype","slice","call","arguments","pop","length","shift","git","refs","err","mapped_refs","split","map","ref","split_reference","id","cid","commit_from_sha"],"sources":["/Users/bobbyrein/react-course/golden-brown/node_modules/git/lib/git/tag.js"],"sourcesContent":["var Commit = require('./commit').Commit;\n\nvar Tag = exports.Tag = function(name, commit) {\n  var _name = name;\n  var _commit = commit;  \n  // Define the properties\n  Object.defineProperty(this, \"name\", { get: function() { return _name; }, enumerable: true});\n  Object.defineProperty(this, \"commit\", { get: function() { return _commit; }, enumerable: true});\n}\n\nvar prefix = function(name) { \n    return \"refs/\" + name + \"s\"; \n  }\n\nTag.find_all = function(repo, options, callback) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  callback = args.pop();\n  options = args.length ? args.shift() : {};\n  \n  // Let's fetch the references\n  repo.git.refs({}, prefix('tag'), function(err, refs) {    \n    if(err) return callback(err, refs);\n    if(!refs) return callback(null, []);\n    // Map the references\n    var mapped_refs = refs.split(/\\n/).map(function(ref) {\n      // Fetch the name and id for the reference\n      var split_reference = ref.split(/ /);\n      var name = split_reference[0];\n      var id = split_reference[1];\n      // Ensure we have the right id (if it's a tag it's the actual commit of the tag not the tag id)\n      var cid = repo.git.commit_from_sha(id)\n      if(cid == '') throw \"unknown object type\";\n      // Create a commit object wit the id\n      var commit = new Commit(repo, cid);\n      // Wrap the commit object in a head object and return mapped object\n      return new Tag(name, commit);        \n    })    \n    \n    callback(null, mapped_refs);\n  })  \n}\n"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC,CAACD,MAAM;AAEvC,IAAIE,GAAG,GAAGC,OAAO,CAACD,GAAG,GAAG,UAASE,IAAI,EAAEC,MAAM,EAAE;EAC7C,IAAIC,KAAK,GAAGF,IAAI;EAChB,IAAIG,OAAO,GAAGF,MAAM;EACpB;EACAG,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;IAAEC,GAAG,EAAE,YAAW;MAAE,OAAOJ,KAAK;IAAE,CAAC;IAAEK,UAAU,EAAE;EAAI,CAAC,CAAC;EAC3FH,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE;IAAEC,GAAG,EAAE,YAAW;MAAE,OAAOH,OAAO;IAAE,CAAC;IAAEI,UAAU,EAAE;EAAI,CAAC,CAAC;AACjG,CAAC;AAED,IAAIC,MAAM,GAAG,UAASR,IAAI,EAAE;EACxB,OAAO,OAAO,GAAGA,IAAI,GAAG,GAAG;AAC7B,CAAC;AAEHF,GAAG,CAACW,QAAQ,GAAG,UAASC,IAAI,EAAEC,OAAO,EAAEC,QAAQ,EAAE;EAC/C,IAAIC,IAAI,GAAGC,KAAK,CAACC,SAAS,CAACC,KAAK,CAACC,IAAI,CAACC,SAAS,EAAE,CAAC,CAAC;EACnDN,QAAQ,GAAGC,IAAI,CAACM,GAAG,EAAE;EACrBR,OAAO,GAAGE,IAAI,CAACO,MAAM,GAAGP,IAAI,CAACQ,KAAK,EAAE,GAAG,CAAC,CAAC;;EAEzC;EACAX,IAAI,CAACY,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,EAAEf,MAAM,CAAC,KAAK,CAAC,EAAE,UAASgB,GAAG,EAAED,IAAI,EAAE;IACnD,IAAGC,GAAG,EAAE,OAAOZ,QAAQ,CAACY,GAAG,EAAED,IAAI,CAAC;IAClC,IAAG,CAACA,IAAI,EAAE,OAAOX,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC;IACnC;IACA,IAAIa,WAAW,GAAGF,IAAI,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,UAASC,GAAG,EAAE;MACnD;MACA,IAAIC,eAAe,GAAGD,GAAG,CAACF,KAAK,CAAC,GAAG,CAAC;MACpC,IAAI1B,IAAI,GAAG6B,eAAe,CAAC,CAAC,CAAC;MAC7B,IAAIC,EAAE,GAAGD,eAAe,CAAC,CAAC,CAAC;MAC3B;MACA,IAAIE,GAAG,GAAGrB,IAAI,CAACY,GAAG,CAACU,eAAe,CAACF,EAAE,CAAC;MACtC,IAAGC,GAAG,IAAI,EAAE,EAAE,MAAM,qBAAqB;MACzC;MACA,IAAI9B,MAAM,GAAG,IAAIL,MAAM,CAACc,IAAI,EAAEqB,GAAG,CAAC;MAClC;MACA,OAAO,IAAIjC,GAAG,CAACE,IAAI,EAAEC,MAAM,CAAC;IAC9B,CAAC,CAAC;IAEFW,QAAQ,CAAC,IAAI,EAAEa,WAAW,CAAC;EAC7B,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script"}