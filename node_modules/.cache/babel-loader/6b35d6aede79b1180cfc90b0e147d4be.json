{"ast":null,"code":"var Config = exports.Config = function (repo) {\n  var _repo = repo,\n    _data = null;\n  Object.defineProperty(this, \"repo\", {\n    get: function () {\n      return _repo;\n    },\n    set: function (value) {\n      _id = value;\n    },\n    enumerable: false\n  });\n  Object.defineProperty(this, \"data\", {\n    get: function () {\n      _data = lazy_reader(_repo, 'data', _data);\n      return _data;\n    },\n    set: function (value) {\n      _data = value;\n    },\n    enumerable: true\n  });\n};\nvar lazy_reader = function (repo, name, variable) {\n  if (variable) return variable;\n  // Control the flow\n  var done = false;\n  var hash = {};\n  // Load the config and parse it\n  repo.git.config({\n    list: true\n  }, function (err, output) {\n    var lines = output.split(\"\\n\");\n    lines.forEach(function (line) {\n      var parts = line.split(/=/);\n      var key = parts.shift();\n      hash[key] = parts.join(\"=\");\n    });\n    done = true;\n  });\n  while (!done) {}\n  ;\n  return hash;\n};\nConfig.prototype.fetch = function (key, default_value) {\n  var value = this.data[key];\n  if (!value) return default_value;\n  return this.data[key];\n};\nConfig.prototype.set = function (key, value, callback) {\n  var self = this;\n  this.repo.git.config({}, key, value, function (err, output) {\n    if (err) return callback(err, output);\n    // Reset data variable\n    self.data = null;\n    // Return\n    callback(null, output);\n  });\n};","map":{"version":3,"names":["Config","exports","repo","_repo","_data","Object","defineProperty","get","set","value","_id","enumerable","lazy_reader","name","variable","done","hash","git","config","list","err","output","lines","split","forEach","line","parts","key","shift","join","prototype","fetch","default_value","data","callback","self"],"sources":["/Users/bobbyrein/react-course/golden-brown/node_modules/git/lib/git/config.js"],"sourcesContent":["var Config = exports.Config = function(repo) {\n  var _repo = repo, _data = null;\n  \n  Object.defineProperty(this, \"repo\", { get: function() { return _repo; }, set: function(value) { _id = value; }, enumerable: false});    \n  Object.defineProperty(this, \"data\", { get: function() { \n      _data = lazy_reader(_repo, 'data', _data);\n      return _data; \n    }, set: function(value) { _data = value; }, enumerable: true});      \n}\n\nvar lazy_reader = function(repo, name, variable) {\n  if(variable) return variable;\n  // Control the flow\n  var done = false;\n  var hash = {};\n  // Load the config and parse it\n  repo.git.config({list:true}, function(err, output) {\n    var lines = output.split(\"\\n\");\n    \n    lines.forEach(function(line) {\n      var parts = line.split(/=/);\n      var key = parts.shift();\n      hash[key] = parts.join(\"=\");\n    })\n    done = true;\n  })\n\n  while(!done) {};\n  return hash;  \n}\n\nConfig.prototype.fetch = function(key, default_value) {\n  var value = this.data[key];\n  if(!value) return default_value;\n  return this.data[key];\n}\n\nConfig.prototype.set = function(key, value, callback) {\n  var self = this;\n  \n  this.repo.git.config({}, key, value, function(err, output) {\n    if(err) return callback(err, output);\n    // Reset data variable\n    self.data = null;\n    // Return\n    callback(null, output);\n  });\n}"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAACD,MAAM,GAAG,UAASE,IAAI,EAAE;EAC3C,IAAIC,KAAK,GAAGD,IAAI;IAAEE,KAAK,GAAG,IAAI;EAE9BC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;IAAEC,GAAG,EAAE,YAAW;MAAE,OAAOJ,KAAK;IAAE,CAAC;IAAEK,GAAG,EAAE,UAASC,KAAK,EAAE;MAAEC,GAAG,GAAGD,KAAK;IAAE,CAAC;IAAEE,UAAU,EAAE;EAAK,CAAC,CAAC;EACnIN,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;IAAEC,GAAG,EAAE,YAAW;MAClDH,KAAK,GAAGQ,WAAW,CAACT,KAAK,EAAE,MAAM,EAAEC,KAAK,CAAC;MACzC,OAAOA,KAAK;IACd,CAAC;IAAEI,GAAG,EAAE,UAASC,KAAK,EAAE;MAAEL,KAAK,GAAGK,KAAK;IAAE,CAAC;IAAEE,UAAU,EAAE;EAAI,CAAC,CAAC;AAClE,CAAC;AAED,IAAIC,WAAW,GAAG,UAASV,IAAI,EAAEW,IAAI,EAAEC,QAAQ,EAAE;EAC/C,IAAGA,QAAQ,EAAE,OAAOA,QAAQ;EAC5B;EACA,IAAIC,IAAI,GAAG,KAAK;EAChB,IAAIC,IAAI,GAAG,CAAC,CAAC;EACb;EACAd,IAAI,CAACe,GAAG,CAACC,MAAM,CAAC;IAACC,IAAI,EAAC;EAAI,CAAC,EAAE,UAASC,GAAG,EAAEC,MAAM,EAAE;IACjD,IAAIC,KAAK,GAAGD,MAAM,CAACE,KAAK,CAAC,IAAI,CAAC;IAE9BD,KAAK,CAACE,OAAO,CAAC,UAASC,IAAI,EAAE;MAC3B,IAAIC,KAAK,GAAGD,IAAI,CAACF,KAAK,CAAC,GAAG,CAAC;MAC3B,IAAII,GAAG,GAAGD,KAAK,CAACE,KAAK,EAAE;MACvBZ,IAAI,CAACW,GAAG,CAAC,GAAGD,KAAK,CAACG,IAAI,CAAC,GAAG,CAAC;IAC7B,CAAC,CAAC;IACFd,IAAI,GAAG,IAAI;EACb,CAAC,CAAC;EAEF,OAAM,CAACA,IAAI,EAAE,CAAC;EAAC;EACf,OAAOC,IAAI;AACb,CAAC;AAEDhB,MAAM,CAAC8B,SAAS,CAACC,KAAK,GAAG,UAASJ,GAAG,EAAEK,aAAa,EAAE;EACpD,IAAIvB,KAAK,GAAG,IAAI,CAACwB,IAAI,CAACN,GAAG,CAAC;EAC1B,IAAG,CAAClB,KAAK,EAAE,OAAOuB,aAAa;EAC/B,OAAO,IAAI,CAACC,IAAI,CAACN,GAAG,CAAC;AACvB,CAAC;AAED3B,MAAM,CAAC8B,SAAS,CAACtB,GAAG,GAAG,UAASmB,GAAG,EAAElB,KAAK,EAAEyB,QAAQ,EAAE;EACpD,IAAIC,IAAI,GAAG,IAAI;EAEf,IAAI,CAACjC,IAAI,CAACe,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC,EAAES,GAAG,EAAElB,KAAK,EAAE,UAASW,GAAG,EAAEC,MAAM,EAAE;IACzD,IAAGD,GAAG,EAAE,OAAOc,QAAQ,CAACd,GAAG,EAAEC,MAAM,CAAC;IACpC;IACAc,IAAI,CAACF,IAAI,GAAG,IAAI;IAChB;IACAC,QAAQ,CAAC,IAAI,EAAEb,MAAM,CAAC;EACxB,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script"}